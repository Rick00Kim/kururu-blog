<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="noodp">
<title>Auto register account book - KURURU Blog</title><meta name=description content="Intergrating Slack App with in-company commuting service"><meta property="og:title" content="Auto register account book">
<meta property="og:description" content="Intergrating Slack App with in-company commuting service">
<meta property="og:type" content="article">
<meta property="og:url" content="https://rick00kim.github.io/kururu-blog/en/posts/projects/register-account-book/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-09-10T10:00:23+09:00">
<meta property="article:modified_time" content="2021-09-20T17:45:33+09:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Auto register account book">
<meta name=twitter:description content="Intergrating Slack App with in-company commuting service">
<meta name=application-name content="FeelIt">
<meta name=apple-mobile-web-app-title content="FeelIt"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://rick00kim.github.io/kururu-blog/en/posts/projects/register-account-book/><link rel=stylesheet href=/kururu-blog/css/page.min.css><link rel=stylesheet href=/kururu-blog/css/home.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Auto register account book","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/rick00kim.github.io\/kururu-blog\/en\/posts\/projects\/register-account-book\/"},"genre":"posts","keywords":"projects","wordcount":347,"url":"https:\/\/rick00kim.github.io\/kururu-blog\/en\/posts\/projects\/register-account-book\/","datePublished":"2021-09-10T10:00:23+09:00","dateModified":"2021-09-20T17:45:33+09:00","publisher":{"@type":"Organization","name":"Rick_Kim"},"author":{"@type":"Person","name":"Rick_Kim"},"description":"Intergrating Slack App with in-company commuting service"}</script></head><body data-header-desktop data-header-mobile><script>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'dark'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'dark'==='dark')&&document.body.setAttribute('theme','dark')</script>
<div id=mask></div><div class=wrapper><header class=desktop id=header-desktop>
<div class=header-wrapper>
<div class=header-title>
<a href=/kururu-blog/en/ title="KURURU Blog">KURURU Blog</a>
</div>
<div class=menu>
<div class=menu-inner><a class=menu-item href=/kururu-blog/en/posts/> Posts </a><a class=menu-item href=/kururu-blog/en/tags/> Tags </a><a class=menu-item href=/kururu-blog/en/categories/> Categories </a><a class=menu-item href=/kururu-blog/en/about/> About </a><span class="menu-item delimiter"></span><span class="menu-item language" title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
<select class=language-select id=language-select-desktop onchange="location=this.value"><option value=/kururu-blog/en/posts/projects/register-account-book/ selected>English</option><option value=/kururu-blog/posts/projects/register-account-book/>Korean</option></select>
</span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=# class="search-button search-toggle" id=search-toggle-desktop title=Search>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=# class="search-button search-clear" id=search-clear-desktop title=Clear>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-desktop>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
</a>
</div>
</div>
</div>
</header><header class=mobile id=header-mobile>
<div class=header-container>
<div class=header-wrapper>
<div class=header-title>
<a href=/kururu-blog/en/ title="KURURU Blog">KURURU Blog</a>
</div>
<div class=menu-toggle id=menu-toggle-mobile>
<span></span><span></span><span></span>
</div>
</div>
<div class=menu id=menu-mobile><div class=search-wrapper>
<div class="search mobile" id=search-mobile>
<input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=# class="search-button search-toggle" id=search-toggle-mobile title=Search>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=# class="search-button search-clear" id=search-clear-mobile title=Clear>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-mobile>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</div>
<a href=# class=search-cancel id=search-cancel-mobile>
Cancel
</a>
</div><a class=menu-item href=/kururu-blog/en/posts/ title>Posts</a><a class=menu-item href=/kururu-blog/en/tags/ title>Tags</a><a class=menu-item href=/kururu-blog/en/categories/ title>Categories</a><a class=menu-item href=/kururu-blog/en/about/ title>About</a><div class=menu-item><a href=javascript:void(0); class=theme-switch title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
</a>
</div><span class="menu-item language" title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
<select class=language-select onchange="location=this.value"><option value=/kururu-blog/en/posts/projects/register-account-book/ selected>English</option><option value=/kururu-blog/posts/projects/register-account-book/>Korean</option></select>
</span></div>
</div>
</header><div class="search-dropdown desktop">
<div id=search-dropdown-desktop></div>
</div>
<div class="search-dropdown mobile">
<div id=search-dropdown-mobile></div>
</div><main class=main>
<div class=container><div class=toc id=toc-auto>
<h2 class=toc-title>Contents</h2>
<div class="toc-content always-active" id=toc-content-auto></div>
</div><article class="page single" data-toc=enable><div class=featured-image><img class=lazyload src=/kururu-blog/svg/loading.min.svg data-src=register-account-book.jpg data-srcset="/kururu-blog/en/posts/projects/register-account-book/register-account-book.jpg, register-account-book.jpg 1.5x, /kururu-blog/en/posts/projects/register-account-book/register-account-book.jpg 2x" data-sizes=auto alt=/kururu-blog/en/posts/projects/register-account-book/register-account-book.jpg title="Intergrating Slack App with in-company commuting service"></div><div class=single-card data-image=true><h2 class="single-title animated flipInX">Auto register account book</h2><div class=post-meta>
<div class=post-meta-line><span class=post-author><a href=/kururu-blog/en/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>Rick_Kim</a></span>&nbsp;<span class=post-category>published in <a href=/kururu-blog/en/categories/private_projects/><i class="far fa-folder fa-fw"></i>private_projects</a></span></div>
<div class=post-meta-line><span><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-09-10>2021-09-10</time></span>&nbsp;<span><i class="fas fa-pencil-alt fa-fw"></i>&nbsp;347 words</span>&nbsp;
<span><i class="far fa-clock fa-fw"></i>&nbsp;2 minutes</span>&nbsp;</div>
</div>
<hr><div class="details toc" id=toc-static data-kept>
<div class="details-summary toc-title">
<span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span>
</div>
<div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents>
<ul>
<li>
<ul>
<li>
<ul>
<li></li>
</ul>
</li>
</ul>
</li>
<li><a href=#background>BACKGROUND</a>
<ul>
<li><a href=#input-commuting-function-flow>Input commuting function flow</a></li>
</ul>
</li>
<li><a href=#goal>GOAL</a></li>
<li><a href=#precondition>PRECONDITION</a></li>
<li><a href=#summary>SUMMARY</a></li>
<li><a href=#specs>SPECS</a></li>
<li><a href=#flow>FLOW</a>
<ul>
<li><a href=#execute-slack-command-when-user-not-existed>Execute slack command (<code>When user not existed</code>)</a></li>
<li><a href=#execute-slack-command-when-user-existed>Execute slack command (<code>When user existed</code>)</a></li>
</ul>
</li>
<li><a href=#conclusion>CONCLUSION</a></li>
<li><a href=#todo>TODO</a></li>
<li><a href=#references>REFERENCES</a></li>
</ul>
</nav></div>
</div><div class=content id=content><h5 id=the-period-of-project-20210401---20210420>The period of Project: 2021/04/01 - 2021/04/20</h5>
<h2 id=background>BACKGROUND</h2>
<ul>
<li>Use external administrative service to company commuting management.</li>
<li>The service is on web, but some functions are not available in mobile view.
-> Input commuting function</li>
<li>Because mobile is not available, there is an inconvenience of accessing the web every time.</li>
<li>There is a non-business Slack workspace used by employees.</li>
</ul>
<h3 id=input-commuting-function-flow>Input commuting function flow</h3>
<ol>
<li>Go to the relevant administrative management system page</li>
<li>Login with the assigned account information</li>
<li>Go to the employee commuting management page</li>
<li>Choose a date and enter the time</li>
<li>Submit <br>
-> Basically, System dates or before System dates can be registered</li>
</ol>
<h2 id=goal>GOAL</h2>
<p>Automate repetitive tasks among management system functions</p>
<h2 id=precondition>PRECONDITION</h2>
<ol>
<li>The function to be linked to the Slack App is only the input commuting function with the highest frequency of use by employees
<ul>
<li>Automating the function significantly reduces daily discomfort</li>
</ul>
</li>
</ol>
<h2 id=summary>SUMMARY</h2>
<ol>
<li>Using the command function in Slack, proceed in a conversation method between Slack users and apps</li>
<li>Implement a commuting management function using input information after receiving necessary information from a user</li>
<li>The actual operation module of the Slack App is built using Python + Flask.</li>
<li>Using the Selenium library, manipulate the website</li>
</ol>
<h2 id=specs>SPECS</h2>
<ul>
<li>
<dl>
<dt>Server</dt>
<dt>Heroku free mode</dt>
<dd>No much access because only 10-20 employees use it</dd>
<dd>It does not require a high-specification server</dd>
</dl>
</li>
<li>
<p>Language & Framework</p>
<ul>
<li>Python 3.8.2</li>
<li>Framework: Flask</li>
<li>주 Libraries
<ul>
<li>Selenium (For manipulate Web site)</li>
<li>gunicorn (For executing in Heroku)</li>
<li>slackclient, slackeventsapi (For connecting to Slack)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id=flow>FLOW</h2>
<h3 id=execute-slack-command-when-user-not-existed>Execute slack command (<code>When user not existed</code>)</h3>
<ol>
<li>Slack Appears modal to register user
<ul>
<li>Required Data: Member ID, User ID, Start Time <br>
<img class=lazyload src=/kururu-blog/svg/loading.min.svg data-src=register_account_book_1.png data-srcset="/kururu-blog/en/posts/projects/register-account-book/register_account_book_1.png, register_account_book_1.png 1.5x, /kururu-blog/en/posts/projects/register-account-book/register_account_book_1.png 2x" data-sizes=auto alt=/kururu-blog/en/posts/projects/register-account-book/register_account_book_1.png title="Register user form"></li>
</ul>
</li>
<li>Submit
<ul>
<li>Save Information to json file <br>
Also to check resistered user</li>
<li>Announce to user with mention when success to register <br>
<img class=lazyload src=/kururu-blog/svg/loading.min.svg data-src=register_account_book_2.png data-srcset="/kururu-blog/en/posts/projects/register-account-book/register_account_book_2.png, register_account_book_2.png 1.5x, /kururu-blog/en/posts/projects/register-account-book/register_account_book_2.png 2x" data-sizes=auto alt=/kururu-blog/en/posts/projects/register-account-book/register_account_book_2.png title="Success message for registering user information"></li>
</ul>
</li>
</ol>
<h3 id=execute-slack-command-when-user-existed>Execute slack command (<code>When user existed</code>)</h3>
<ol>
<li>Slack Appears modal to register time card
<ul>
<li>Required Data: Target Month(yyyyMM), Password, Add specific data(Not supported) <br>
<img class=lazyload src=/kururu-blog/svg/loading.min.svg data-src=register_account_book_3.png data-srcset="/kururu-blog/en/posts/projects/register-account-book/register_account_book_3.png, register_account_book_3.png 1.5x, /kururu-blog/en/posts/projects/register-account-book/register_account_book_3.png 2x" data-sizes=auto alt=/kururu-blog/en/posts/projects/register-account-book/register_account_book_3.png title="Register time card form"></li>
<li>Validation <br>
Appear validation error to modal <br>
<img class=lazyload src=/kururu-blog/svg/loading.min.svg data-src=register_account_book_4.png data-srcset="/kururu-blog/en/posts/projects/register-account-book/register_account_book_4.png, register_account_book_4.png 1.5x, /kururu-blog/en/posts/projects/register-account-book/register_account_book_4.png 2x" data-sizes=auto alt=/kururu-blog/en/posts/projects/register-account-book/register_account_book_4.png title="Validate error : Target month"></li>
</ul>
</li>
<li>Module runs Selenium in parallel
<ul>
<li>To manipulate web using Selenium</li>
</ul>
</li>
<li>Complete process in parallel, post message to user <br>
<img class=lazyload src=/kururu-blog/svg/loading.min.svg data-src=register_account_book_5.png data-srcset="/kururu-blog/en/posts/projects/register-account-book/register_account_book_5.png, register_account_book_5.png 1.5x, /kururu-blog/en/posts/projects/register-account-book/register_account_book_5.png 2x" data-sizes=auto alt=/kururu-blog/en/posts/projects/register-account-book/register_account_book_5.png title="Success message for registering diary all day"></li>
</ol>
<h2 id=conclusion>CONCLUSION</h2>
<ul>
<li>Source : <a href=https://github.com/Rick00Kim/Slack_Automator/tree/master/csi_work_diary target=_blank rel="noopener noreffer">https://github.com/Rick00Kim/Slack_Automator/tree/master/csi_work_diary</a></li>
</ul>
<h2 id=todo>TODO</h2>
<ul>
<li><i class="far fa-square fa-fw"></i> Save user information to postgresql in heroku</li>
<li><i class="far fa-square fa-fw"></i> Add function; Modify, Delete User</li>
</ul>
<h2 id=references>REFERENCES</h2>
<ul>
<li><a href=https://www.heroku.com/ target=_blank rel="noopener noreffer">https://www.heroku.com/</a></li>
</ul></div><div class=post-footer id=post-footer>
<div class=post-info><div class=post-info-tag><span><a href=/kururu-blog/en/tags/projects/>projects</a>
</span></div><div class=post-info-line><div class=post-info-mod>
<span>Updated on 2021-09-20</span>
</div><div class=post-info-mod></div>
</div></div><div class=post-nav></div></div>
</div></article></div>
</main>
<footer class=footer></footer>
</div>
<div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top">
<i class="fas fa-chevron-up fa-fw"></i>
</a></div><link rel=stylesheet href=/kururu-blog/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/kururu-blog/lib/animate/animate.min.css><script src=/kururu-blog/lib/autocomplete/autocomplete.min.js></script><script src=/kururu-blog/lib/algoliasearch/algoliasearch-lite.umd.min.js></script><script src=/kururu-blog/lib/lazysizes/lazysizes.min.js></script><script src=/kururu-blog/lib/clipboard/clipboard.min.js></script><script>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:10},comment:{},search:{algoliaAppID:"UAL0NNJWXE",algoliaIndex:"index.en",algoliaSearchKey:"7b7fbdfb7ee82ee61901f2c6b09b05be",highlightTag:"em",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"algolia"}}</script><script src=/kururu-blog/js/theme.min.js></script></body></html>